#!/usr/bin/bash

#////////////////////////////////////////////////////////////////////////
# set awesome dir
conf=$HOME/.config/awesome
#////////////////////////////////////////////////////////////////////////

echo "awesome config path:$conf"

#////////////////////////////////////////////////////////////////////////
# show dashboard
touch /tmp/awesomewm-show-dashboard
#////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////
# set wallpaper to /config/wallpaper.jpg or /config/wallpaper.png
if [ -f "$conf/config/wallpaper.jpg" ]; then
    nitrogen --set-zoom-fill "$conf/config/wallpaper.jpg"
else
    nitrogen --set-zoom-fill "$conf/config/wallpaper.png"
fi
#////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////
# start compositor
pkill picom
picom --experimental-backend --config "$conf/config/picom.conf"
#////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////
# colorscheme
read -r theme<"$conf/config/colorscheme"
cd ~/Documents/code/themer/
./themer -a $theme
sleep 1
awesome-client 'awesome.restart()'
#////////////////////////////////////////////////////////////////////////
