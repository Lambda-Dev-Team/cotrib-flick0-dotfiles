#!/usr/bin/bash

#////////////////////////////////////////////////////////////////////////
# polkit
/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
#////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////
# set awesome dir
conf=$HOME/.config/awesome
#////////////////////////////////////////////////////////////////////////

echo "awesome config path:$conf"

#////////////////////////////////////////////////////////////////////////
# show dashboard
# touch /tmp/awesomewm-show-dashboard
#////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////
# set wallpaper to /config/wallpaper.jpg or /config/wallpaper.png
pkill feh
pkill nitrogen
if [ -f "$conf/config/wallpaper.jpg" ]; then
    nitrogen --set-zoom-fill "$conf/config/wallpaper.jpg"
else
    nitrogen --set-zoom-fill "$conf/config/wallpaper.png"
fi
#////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////
# start compositor
pkill picom
picom -b --experimental-backends --config $conf/config/picom.conf &
#////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////
# reload colors
$conf/config/scripts/set_colors
sleep 1
awesome-client 'awesome.restart()'
#////////////////////////////////////////////////////////////////////////

